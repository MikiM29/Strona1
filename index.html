
<!doctype html>
<html lang="pl">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <title>Cukiernia Ryszard Gembiak</title>
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="cukiernia.css">
  <style>
    /* Background canvas sits under content and doesn't block interactions */
    #bg-canvas{position:fixed;top:0;left:0;width:100%;height:100%;display:block;z-index:0;pointer-events:none}
    /* Ensure page content renders above the canvas */
    body > *:not(#bg-canvas){position:relative;z-index:1}
  </style>
</head>
<body>
  <canvas id="bg-canvas" aria-hidden="true"></canvas>
  <header class="site-header">
    <div class="container header-inner">
      <a class="brand" href="#">
        <img src="images/logo.png" alt="Logo Cukierni Ryszard Gembiak" class="logo">
        Cukiernia Ryszard Gembiak
      </a>
      <nav class="nav">
        <a href="o-nas/o-nas.html">O nas</a>
        <a href="oferta/oferta.html">Oferta</a>
        <a href="galeria/galeria.html">Galeria</a>
        <a href="kontakt/kontakt.html">Kontakt</a>
      </nav>
      <button id="theme-toggle" class="theme-btn">ğŸŒ™</button>
    </div>
  </header>

  <main>
    <section class="hero">
      <div class="container hero-inner">
        <div class="hero-text">
          <h1>ÅšwieÅ¼e wypieki codziennie</h1>
          <p>Domowe smaki, najlepsze skÅ‚adniki i miÅ‚oÅ›Ä‡ do pieczenia. Zapraszamy do Cukierni Ryszard Gembiak.</p>
          <div class="hero-cta">
            <a class="btn primary" href="oferta/oferta.html">Zobacz OfertÄ™</a>
            <a class="btn ghost" href="kontakt/kontakt.html">ZamÃ³w online</a>
          </div>
        </div>
        <div class="hero-art">
          <img src="images/bread.svg" alt="Wypieki" class="hero-img">
        </div>
      </div>
    </section>

    <section id="about" class="about container">
      <h2>O nas</h2>
      <div class="about-grid">
        <p>JesteÅ›my rodzinnÄ… cukierniÄ… serwujÄ…cÄ… Å›wieÅ¼e chleb, buÅ‚ki i ciasta. Tradycyjne receptury spotykajÄ… siÄ™ u nas z nowoczesnym designem i dbaÅ‚oÅ›ciÄ… o kaÅ¼dy detal.</p>
        <div class="about-highlights">
          <div class="pill">ÅšwieÅ¼e skÅ‚adniki</div>
          <div class="pill">RÄ™czne wypieki</div>
          <div class="pill">ZamÃ³wienia na zamÃ³wienie</div>
        </div>
      </div>
    </section>

    <section id="menu" class="menu container">
      <h2>Najpopularniejsze</h2>
      <div class="cards">
        <article class="card">
          <img src="images/cake.svg" alt="Ciasto" />
          <h3>Sernik klasyczny</h3>
          <p>Kremowy sernik na tradycyjnym spodzie.</p>
        </article>
        <article class="card">
          <img src="images/bread.svg" alt="Chleb" />
          <h3>Chleb na zakwasie</h3>
          <p>Chleb z chrupiÄ…cÄ… skÃ³rkÄ… i miÄ™kkim miÄ…Å¼szem.</p>
        </article>
        <article class="card">
          <img src="images/cake.svg" alt="BuÅ‚ki" />
          <h3>Rogaliki maÅ›lane</h3>
          <p>Delikatne, maÅ›lane rogaliki idealne do kawy.</p>
        </article>
      </div>
    </section>

    <section id="gallery" class="gallery container">
      <h2>Galeria</h2>
      <div class="gallery-grid">
        <img src="images/bread.svg" alt="Wypiek 1">
        <img src="images/cake.svg" alt="Wypiek 2">
        <img src="images/bread.svg" alt="Wypiek 3">
        <img src="images/cake.svg" alt="Wypiek 4">
      </div>
    </section>

    <section id="contact" class="contact container">
      <h2>Kontakt</h2>
      <div class="contact-grid">
        <form class="contact-form" action="#" onsubmit="return false;">
          <label><span>ImiÄ™</span><input type="text" name="name" required></label>
          <label><span>Email</span><input type="email" name="email" required></label>
          <label><span>WiadomoÅ›Ä‡</span><textarea name="message" rows="4" required></textarea></label>
          <button class="btn primary">WyÅ›lij</button>
        </form>
        <div class="contact-info">
          <p><strong>Adres:</strong> ul. PrzykÅ‚adowa 12, 00-000 Miasto</p>
          <p><strong>Telefon:</strong> +48 123 456 789</p>
          <p><strong>Godziny:</strong> Ponâ€“Pt 7:00â€“18:00, Sob 8:00â€“14:00</p>
        </div>
      </div>
    </section>
  </main>

  <footer class="site-footer">
    <div class="container footer-inner">
      <p>Â© <span id="year"></span> Cukiernia Ryszard Gembiak â€” Wszystkie prawa zastrzeÅ¼one</p>
    </div>
  </footer>

  <script type="module">
    import * as THREE from 'https://unpkg.com/three@0.152.2/build/three.module.js';

    const prefersReduced = window.matchMedia('(prefers-reduced-motion: reduce)').matches;
    if (prefersReduced || window.innerWidth < 600) {
      console.log('3D background disabled for reduced motion or small screen');
    } else {
      const canvas = document.getElementById('bg-canvas');
      const renderer = new THREE.WebGLRenderer({canvas, alpha:true, antialias:true});
      renderer.setPixelRatio(Math.min(window.devicePixelRatio, 2));
      renderer.setSize(window.innerWidth, window.innerHeight);

      const scene = new THREE.Scene();
      const camera = new THREE.PerspectiveCamera(45, window.innerWidth / window.innerHeight, 0.1, 1000);
      camera.position.set(0, 1.5, 6);

      const hemi = new THREE.HemisphereLight(0xffffff, 0x444444, 0.7);
      scene.add(hemi);
      const dir = new THREE.DirectionalLight(0xffffff, 0.8);
      dir.position.set(5, 10, 7);
      scene.add(dir);

      function createCake(radius, height, color) {
        const g = new THREE.Group();
        const bodyMat = new THREE.MeshStandardMaterial({color});
        const body = new THREE.Mesh(new THREE.CylinderGeometry(radius, radius, height, 32), bodyMat);
        g.add(body);
        const icing = new THREE.Mesh(new THREE.CylinderGeometry(radius * 0.96, radius * 0.96, height * 0.18, 32), new THREE.MeshStandardMaterial({color: 0xfff7e6, metalness: 0.1, roughness: 0.6}));
        icing.position.y = height * 0.45;
        g.add(icing);
        const cherry = new THREE.Mesh(new THREE.SphereGeometry(radius * 0.14, 16, 16), new THREE.MeshStandardMaterial({color: 0xff3b5c}));
        cherry.position.set(0, height * 0.75, 0);
        g.add(cherry);
        return g;
      }

      const cakes = new THREE.Group();
      scene.add(cakes);
      const palette = [0xffb3b3, 0xffd1a9, 0xfff2a6, 0xc6f0d9, 0xd6ccff];
      for (let i = 0; i < 6; i++) {
        const r = 0.6 + Math.random() * 0.6;
        const h = 0.6 + Math.random() * 0.6;
        const cake = createCake(r, h, palette[i % palette.length]);
        cake.position.x = (Math.random() - 0.5) * 8;
        cake.position.y = (Math.random() - 0.5) * 3;
        cake.position.z = -Math.random() * 6;
        cake.rotation.x = (Math.random() - 0.5) * 0.4;
        cake.userData.speed = 0.002 + Math.random() * 0.004;
        cakes.add(cake);
      }

      let mouseX = 0, mouseY = 0;
      window.addEventListener('mousemove', (e) => {
        const nx = (e.clientX / window.innerWidth - 0.5) * 2;
        const ny = (e.clientY / window.innerHeight - 0.5) * 2;
        mouseX = nx;
        mouseY = ny;
      }, {passive: true});

      let lastScroll = window.scrollY;
      window.addEventListener('scroll', () => { lastScroll = window.scrollY; }, {passive: true});

      function resize() {
        renderer.setSize(window.innerWidth, window.innerHeight);
        camera.aspect = window.innerWidth / window.innerHeight;
        camera.updateProjectionMatrix();
      }
      window.addEventListener('resize', resize, {passive: true});

      function animate(t) {
        requestAnimationFrame(animate);
        const scrollFactor = (lastScroll / (document.body.scrollHeight - window.innerHeight)) || 0;
        cakes.children.forEach((c, idx) => {
          c.rotation.y += c.userData.speed;
          c.position.y += Math.sin(t * 0.001 * (idx + 1)) * 0.0005;
        });
        cakes.position.x += (mouseX * 2 - cakes.position.x) * 0.05;
        cakes.position.y += (-scrollFactor * 4 - cakes.position.y) * 0.05;
        camera.lookAt(0, 0, 0);
        renderer.render(scene, camera);
      }
      requestAnimationFrame(animate);
    }
  </script>

  <script>
    document.getElementById('year').textContent = new Date().getFullYear();

    const themeToggle = document.getElementById('theme-toggle');
    const body = document.body;

    // Check for saved theme preference or default to light mode
    const currentTheme = localStorage.getItem('theme') || 'light';
    if (currentTheme === 'dark') {
      body.classList.add('dark');
      themeToggle.textContent = 'â˜€ï¸';
    } else {
      themeToggle.textContent = 'ğŸŒ™';
    }

    themeToggle.addEventListener('click', () => {
      body.classList.toggle('dark');
      const theme = body.classList.contains('dark') ? 'dark' : 'light';
      localStorage.setItem('theme', theme);
      themeToggle.textContent = theme === 'dark' ? 'â˜€ï¸' : 'ğŸŒ™';
    });

    // Smooth page transitions
    document.addEventListener('DOMContentLoaded', () => {
      body.classList.add('fade-in');
      const links = document.querySelectorAll('a[href]');
      links.forEach(link => {
        link.addEventListener('click', (e) => {
          const href = link.getAttribute('href');
          if (href && !href.startsWith('http') && !href.startsWith('#') && !href.includes('target="_blank"')) {
            e.preventDefault();
            body.classList.add('fade-out');
            setTimeout(() => {
              window.location.href = href;
            }, 300);
          }
        });
      });
    });
  </script>
</body>
</html>
